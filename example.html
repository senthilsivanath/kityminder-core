<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>KityMinder Example</title>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" >
    <link href="favicon.ico" type="image/x-icon" rel="shortcut icon">
    <link rel="stylesheet" href="src/kityminder.css" rel="stylesheet">

    <style type="text/css">
        body {
            margin: 0;
            padding: 0;
            height: 100%;
        }

        #minder-view {
            position: absolute;
            border: 1px solid #ccc;
            left: 10px;
            top: 10px;
            bottom: 10px;
            right: 10px;
        }
    </style>

    <script type="text/javascript" src="node_modules/kity/dist/kity.min.js"></script>
</head>
<body>
    <script id="minder-view" type="application/kityminder" minder-data-type="json">
        {
            "root": {
                "data": {
                    "id": "c0f1ffajgxk0",
                    "created": 1580987875318,
                    "text": "MainTopic",
                    "note": "# hi hello\nasdfasd\nasdf\nasdf\nasd\nasdf"
                },
                "children": [
                    {
                        "data": {
                            "id": "c0f1fjfcrjc0",
                            "created": 1580987884316,
                            "text": "topic",
                            "expandState": "expand"
                        },
                        "children": [
                            {
                                "data": {
                                    "id": "c0f1fktuaxs0",
                                    "created": 1580987887369,
                                    "text": "topic"
                                },
                                "children": []
                            },
                            {
                                "data": {
                                    "id": "c0f1flchua80",
                                    "created": 1580987888497,
                                    "text": "topic"
                                },
                                "children": []
                            },
                            {
                                "data": {
                                    "id": "c0f1fltum1s0",
                                    "created": 1580987889546,
                                    "text": "topic"
                                },
                                "children": []
                            }
                        ]
                    },
                    {
                        "data": {
                            "id": "c0f1fke46io0",
                            "created": 1580987886418,
                            "text": "topic",
                            "note": "#hello\nadsf\nasdf\nasdf\nasdf\n"
                        },
                        "children": []
                    },
                    {
                        "data": {
                            "id": "c0f1rdah5wg0",
                            "created": 1580988811331,
                            "text": "topic"
                        },
                        "children": []
                    },
                    {
                        "data": {
                            "id": "c0f1rejz0cw0",
                            "created": 1580988814082,
                            "text": "topic"
                        },
                        "children": [
                            {
                                "data": {
                                    "id": "c0f1rfr1hls0",
                                    "created": 1580988816686,
                                    "text": "topic"
                                },
                                "children": []
                            }
                        ]
                    },
                    {
                        "data": {
                            "id": "c0f1rf0smoo0",
                            "created": 1580988815099,
                            "text": "topic"
                        },
                        "children": []
                    }
                ]
            },
            "template": "filetree",
            "theme": "fresh-green",
            "version": "1.4.43"
        }
    </script>
</body>

<script type="text/javascript" src="dist/kityminder.core.min.js"></script>
<script type="text/javascript">
    // 创建 km 实例
    /* global kityminder */
    var km = window.km = new kityminder.Minder();
     km.setup('#minder-view');
    // km.disable();
     km.execCommand('hand');
    km.on('selectionchange', function() {
	var node = km.getSelectedNode();
	if (node) {
		console.log({node});
	}

   
});
km.on('shownoterequest',(ev)=>{ 

console.log(ev)
})
</script>

</html>
